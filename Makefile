# --------------------------------------------------------------------------- #
# $Source: /usr/local/cvs/yamp/Makefile,v $
# $Revision: 1.1.1.1 $
# $Date: 2001/11/01 08:44:06 $
# $Log: Makefile,v $
# Revision 1.1.1.1  2001/11/01 08:44:06  wroos
# Initial revision
#
# --------------------------------------------------------------------------- #

# --------------------------------------------------------------------------- #
# Defines
# --------------------------------------------------------------------------- #
cc=cl
link=link
rc=rc
#cflags=-Yd -Z7 -nologo -GX -Gy -MTd -DDEBUG
#cflags=-DDEBUG -Ox -Yd
cflags=-Ox -Yd
ldflags=-INCREMENTAL:NO -DEBUG
win32libs=advapi32.lib wsock32.lib

# --------------------------------------------------------------------------- #
# Directives
# --------------------------------------------------------------------------- #
all: yamp.exe

# --------------------------------------------------------------------------- #
# yamp.res
# --------------------------------------------------------------------------- #
yamp.res:	yamp.rc
	@echo Generating yamp resources...
	$(rc) -r yamp.rc
	@echo Done

# --------------------------------------------------------------------------- #
# yamp.obj
# --------------------------------------------------------------------------- #
yamp.obj:	yamp.cpp yamp.h
	@echo Generating yamp.obj...
	$(cc) -c $(cflags) yamp.cpp
	@echo Done

# --------------------------------------------------------------------------- #
# yamp.exe
# --------------------------------------------------------------------------- #
yamp.exe: yamp.obj yamp.res
   @echo Linking yamp.exe...
   $(link) $(ldflags) -out:yamp.exe $(win32libs) yamp.obj yamp.res
   @echo Done

# --------------------------------------------------------------------------- #
# Clean up more
# --------------------------------------------------------------------------- #
clean: 
   del /f /q *.exe
   del /f /q *$o 
